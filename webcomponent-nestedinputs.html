<html>

<head>
    <title>Autofill without web components</title>
</head>
<script>
    customElements.define("autofill-form", class AutoFillForm extends HTMLElement {

        constructor() {
            // Always call super first in constructor
            super();

            const shadowRoot = this.attachShadow({ mode: "open" });

            shadowRoot.innerHTML = `
                <style>
                    label,
                    button {
                        display: block;
                        margin-top: 1rem;
                    }
                </style>
                    <label>First Name:
                    <input name="firstName" type="text" autocomplete="given-name">
                    </label>

                    <label for="lastName">Last Name:</label>
                    <input name="lastName" type="text" autocomplete="family-name">

                    <label for="username">Username:</label>
                    <input name="username" type="username" autocomplete="username">

                    <label for="password">Password:</label>
                    <input name="password" type="password" autocomplete="password">
                    
                    <button id="save-details">Save details</button>              `

        }

    });
    const init = () => {
       document.getElementById('autofill-form').addEventListener('submit',
        (e) => {
            e.preventDefault();
            const data = new FormData(e.target);
            const value = Object.fromEntries(data.entries());
            localStorage.setItem('data', JSON.stringify(value))
        }
    ) 
    }
    

</script>

<body onload="init()">
    <form id="autofill-form">
        <autofill-form></autofill-form>
    </form>
</body>

</html>